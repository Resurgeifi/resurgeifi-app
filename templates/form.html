{% extends "base.html" %}

{% block title %}Inner Circle | Resurgifi{% endblock %}

{% block content %}
<!-- ðŸŒ€ CIRCLE PAGE TITLE IMAGE -->
<div class="page-title" style="background-image: url('/static/titles/circle.png');">
  Circle
</div>

<!-- ðŸ§  Hero Arc -->
<div class="hero-arc-lineup">
  <div class="hero">
    <img src="{{ url_for('static', filename='images/heroes/Cognita_Transparent.png') }}" alt="Cognita" />
  </div>
  <div class="hero">
    <img src="{{ url_for('static', filename='images/heroes/Velessa_Transparent.png') }}" alt="Velessa" />
  </div>
  <div class="hero">
    <img src="{{ url_for('static', filename='images/heroes/SirRenity_Transparent.png') }}" alt="Sir Renity" />
  </div>
  <div class="hero">
    <img src="{{ url_for('static', filename='images/heroes/Grace_Transparent.png') }}" alt="Grace" />
  </div>
  <div class="hero">
    <img src="{{ url_for('static', filename='images/heroes/Lucentis_Transparent.png') }}" alt="Lucentis" />
  </div>
</div>

<!-- ðŸ—£ï¸ Hero Bio Flash -->
<div id="heroBio" style="display: none; position: fixed; top: 30%; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.88); color: #f6e7c1; padding: 1.5rem; border-radius: 14px; z-index: 9999; text-align: center; max-width: 90%; box-shadow: 0 0 15px black;">
  <p id="heroBioText" style="font-size: 1.1rem; font-weight: 500;"></p>
  <button onclick="document.getElementById('heroBio').style.display='none'" class="global-button" style="margin-top: 1rem;">Close</button>
</div>

<!-- ðŸšª CTA -->
<div class="container inner-circle-wrapper" style="text-align: center; margin-top: 2em; margin-bottom: 8rem;">
  <h1>ðŸŒ€ Ready to Enter the Circle?</h1>
  <p class="mantra">The heroes are gathered. They're waiting for you.</p>

  <a href="{{ url_for('circle') }}" 
     class="global-button"
     style="font-size: 1.2em;">
    Enter Chat
  </a>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const audio = document.getElementById("meditationAudio");
    if (audio) {
      audio.play().catch(() => {});
    }

    const bios = {
      "Cognita": "ðŸ§  Cognita â€“ Mindshift Operative: Helps you rewrite your inner code and reframe stuck thoughts.",
      "Velessa": "ðŸŒ¸ Velessa â€“ Goddess of the Present: She pauses the noise so you can feel your breath again.",
      "Sir Renity": "ðŸ›¡ï¸ Sir Renity â€“ Guardian of Calm: His stillness disarms the storm inside you.",
      "Grace": "âœ¨ Grace â€“ The Light Within: A constant whisper that you are worth saving.",
      "Lucentis": "ðŸ”† Lucentis â€“ Bringer of Clarity: When you are lost in the fog, heâ€™s the light that finds you."
    };

    document.querySelectorAll('.hero img').forEach(img => {
      img.addEventListener('click', () => {
        const name = img.alt.trim();
        const text = bios[name] || "Hero bio coming soon.";
        document.getElementById("heroBioText").textContent = text;
        document.getElementById("heroBio").style.display = "block";
      });
    });
  });
</script>
{% endblock %}
